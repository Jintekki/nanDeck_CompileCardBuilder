# nanDeck Compile Card Builder
## Purpose
This is a script and accomponying files used by the nanDeck program to create homebrew protocols and command cards for the card game Compile designed by [Michael Yang](https://boardgamegeek.com/boardgamedesigner/158096/michael-yang).

## Contents
### <ins>-Main Folder-
+ **nanDeck_Compile.txt** : The core script that builds the cards.
+ **ImageSlice.txt** : A subscript used by nanDeck_Compile.txt to slice images into smaller images for the cards backgrounds.
+ **ImageGlitch.text** : A subscript used by nanDeck_Compile.txt to create the loading side of the Protocol Card's background.


### <ins>-Main Folder//Universal Assets-</ins>
A multitude of images used by the script to build each card. These images are shared between all cards.


### <ins>-Main Folder//NEW_PROTOCOL</ins>
This is an example for how the file structure should be set up.

+ **Protocol.xslx** : The spreadsheet file containing the information for each card. Please ensure that the <ins>filename does not change</ins> and that it is placed at the upmost folder as it works as the root for the programs execution to find the other custom files for the protocol (ie not the universal assets).


#### <ins>-Main Folder//NEW_PROTOCOL//Assets-</ins>
Contains the custom image files used for building the cards backgrounds and protocol icon. The file names must match what is given or the program will not be able to find the files.

+ **Background.jpg** : 3500px X 2500px image that is sliced by the program to be used as the background for the command cards, and as the image used as the background for the protocol card.
+ **icon.png** : The protocols icon image.


#### <ins>-Main Folder//NEW_PROTOCOL//Resources-</ins>
_This folder is not necessary._

Contains the original images before they have been croped down to the proper aspect ratio. These are here for example purposes and may be removed by the user if desired.


#### <ins>-Main Folder//Generated-</ins>
This is the output folder that is generated by the program.
Contains the 2 output file types.

+ **3x3 Sheet** : Contains all 8 cards and a white space at the top right. This format is intended for sharing on the Compile Discord. The white space is for adding flavor text in an alternate software (GIMP).
+ **3x2 Sheet / 2x single cards** : This format is used for importing into Tabletop Simulator. Contained in the subfolder containing the protocols name.


### <ins>-Main Folder//Fonts-</ins>
*Contains the fonts used to create the cards. Move these fonts into the same folder as the nanDeck.exe so that nanDeck can load the font's and utilize them.*


## How do I use the script?
### Setup
1. Download [nanDeck](https://nandeck.com/old-versions) if you have not already. It is free to download and use.
2. Move the fonts from the Main//Fonts folder to where nanDeck.exe is installed. Ensure each font file is in the same folder as nanDeck.exe and not in a subfolder so that nanDeck can find the files and import them.
3. Fill out the **Compile_HomebrewData_Template.xlsx** [spreadsheet](Main//Compile_HomebrewData_Template.xlsx) with information about the cards and protocol. Click [here](#Spreadsheet) for information about the spreadsheet.
4. Once the spreadsheet is filled out, place it at the root of the protocols folder. This file will be used to source the images used for the icon and background. Examples in the Main//NEW_PROTOCOL// folder.
5. Source images. The program can slice images for each of the 6 command cards for a quick and simple generation, or you can cut the images manually in a 3rd party software such as Gimp or Photoshop and insert them into the proper folder.
  - The official game uses a 3500px X 2500px image size for the protocol art.
  - The official game uses a 815px X 1110px image size for the command cards background image.
    
  Example Image:
  
  ![Background](Main/NEW_PROTOCOL/Assets/Background.jpg)


### Card Creation
1. Press the "Open Deck" button on the left-side menu near the top.
<img width="1920" height="1080" alt="Screenshot (3)" src="https://github.com/user-attachments/assets/225ecb48-ef00-4108-83ce-f4ad55d114fc" />

2. Navigate to where you have downloaded the scripts and open the nanDeck_Compile.txt
<img width="1920" height="1080" alt="Screenshot (4)" src="https://github.com/user-attachments/assets/606c835e-9ab1-4d34-95d8-0c36d7901ff4" />

3. Press the "Validate Deck" button on the left-side menu near the middle.
<img width="1920" height="1080" alt="Screenshot (5)" src="https://github.com/user-attachments/assets/1980a428-81f2-43f7-9919-34783ae65799" />


4. The "Input Data" window will open. Here you can modify your immediate settings and chose different options for the program such as file outputs, and whether or not background images should be generated.
<img width="1920" height="1080" alt="Screenshot (6)" src="https://github.com/user-attachments/assets/ae843097-a934-4572-8cb5-a7527f315384" />

5. Press the "Confirm + Build" button to run the script.
6. Proceed to the [Command Card Backgrounds](#Command-Card-Backgrounds) and/or [Protocol Card Backgrounds](#Protocol-Card-Backgrounds) if you are doing background image generation. Once done or if not using the above mentioned then continue to step 7.
7. Your cards will begin to generate. You will see a green progress bar on the bottom right of the main window, wait for it to fill and for the sub progress bar above it to disappear.
8. You can now view the cards preview in the program if you desire.
<img width="1920" height="1080" alt="Screenshot (13)" src="https://github.com/user-attachments/assets/a15b2684-9157-43db-a101-826cc5d4d568" />
9. If you generated sprite sheets they will be in Generated folder.


#### Command Card Backgrounds
1. Once the script begins to run, a new Input Data window will open. Click the "Browse" button and locate your background image. This image will be sliced into 6 smaller images in a 3 wide by 2 high format.
<img width="1920" height="1080" alt="Screenshot (9)" src="https://github.com/user-attachments/assets/3617763d-2f0a-48a4-8f56-b2ca7b9f9753" />

<img width="1920" height="1080" alt="Screenshot (10)" src="https://github.com/user-attachments/assets/74f09ea6-8752-4ad3-b0d4-94828681355d" />

2. Press the "Confirm + Build" button to continue.
3. Return to step 6 of [Card Creation](#Card-Creation) and continue.

#### Protocol Card Backgrounds
1. Once the script begins to run, a new Input Data window will open. Start by clicking the "Browse" button at the top and locating your background image for your protocol card. This image will be sliced into 20 strips that will be shifted to create the glitching effect.
<img width="1920" height="1080" alt="Screenshot (11)" src="https://github.com/user-attachments/assets/58e48b37-08d1-487a-9f21-6817da9a2fdf" />


2. The glitching effect is determined by the multitude of sliders labeled "Glitch Offset X %" Each slider represents one of the 20 strips mentioned previously. Increasing or decreasing the slider will shift the strip to create a glitch-like effect in your chosen image. NOTE that a too high or low value will cause the image to go off the screen and leave white patches.
<img width="1920" height="1080" alt="Screenshot (12)" src="https://github.com/user-attachments/assets/6741ff50-2427-406b-893e-4881b7ec5686" />


3. When you are ready, press the "Confirm + Build" button to continue.
4. Return to step 6 of [Card Creation](#Card-Creation) and continue.





## Spreadsheet
The [spreadsheet](Main/NEW_PROTOCOL/Compile.xlsx) contains two subsheets, one for the Protocol and one for the Command Cards - **both are necessary**.

You may save the file under any name.

*Do not change column headers or the program will not function*

### Protocol
- **Protocol Name** - Name of the protocol. IE Water
- **Protocol Description** - Flavor text for the protocol. IE >Wash away and renew.
- **Protocol Actions** - Short keyword description for what the protocol focuses on. IE Return, draw, flip
- **Creator Tag** - Person who designed the protocol. - IE M. Yang, NZ3R0K
    - *NOTE that the Creator Tag must be short, long names will be cut off.*

### Command
- **Version** - Tracker for changes made to an individual card. Start at v0.1. Not necessary but an option nonetheless.
- **Card Name** - Flavor text and general descriptor for the card. Way for people to differentiate between cards of the same value in a single protocol.
- **Value** - What the cards value will be when placed face-up on the field.
- **Persistent Emphasis** - Top commands bolded text.
- **Persistent Text** - Top command default text.
- **Immediate Emphasis** - Middle commands bolded text.
- **Immediate Text** - Middle command default text.
- **Auxiliary Emphasis** - Bottom command bolded text.
- **Auxiliary Text** - Bottom command default text.


Here is what the spreadsheet looks like in Google Sheets:

Protocol Sheet:

<img width="527" height="50" alt="Screenshot 2025-08-09 135450" src="https://github.com/user-attachments/assets/1c87907c-49fa-492a-8698-b4079f6991ab" />


Command Sheet:

<img width="1267" height="141" alt="10" src="https://github.com/user-attachments/assets/d8c1109d-f954-4778-81b2-82e78723fbfe" />
